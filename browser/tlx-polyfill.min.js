(function(){"use strict";const global=this,tlx=this.tlx||(this.tlx={});tlx.options||(tlx.options={});const polyfill=typeof global.customElements==="undefined"?"force":true;tlx.options.polyfill=polyfill;polyfill!=="force"||(tlx.options.components=true);tlx.polyfill=function(force){if(polyfill==="force"||force){const _document_createElement=document.createElement.bind(document);document.createElement=function(tagName,options){const ctor=tlx.customElementRegistry.get(tagName);const el=_document_createElement(tagName,options);if(ctor){ctor(el);!el.adoptedCallback||setTimeout(()=>el.adoptedCallback(null,document))}return el};const document_adoptNode=document.adoptNode.bind(document);document.adoptNode=function(node){const olddocument=node.ownerDocument;node=_document_adoptNode(node);!node.adoptedCallback||document===olddocument||setTimeout(()=>node.adoptedCallback(olddocument,document));return node};const node_appendChild=Node.prototype.appendChild;Node.prototype.appendChild=function(node){!node.connectedCallback||node.ownerDocument||setTimeout(()=>node.connectedCallback());return node_appendChild.call(this,node)};const node_insertBefore=Node.prototype.insertBefore;Node.prototype.insertBefore=function(newChild,referenceChild){!newChild.connectedCallback||newChild.ownerDocument||setTimeout(()=>newChild.connectedCallback());return node_insertBefore.call(this,newChild,referenceChild)};const node_removeChild=Node.prototype.removeChild;Node.prototype.removeChild=function(node){!node.disconnectedCallback||setTimeout(()=>node.disconnectedCallback());return node_removeChild.call(this,node)};const node_replaceChild=Node.prototype.replaceChild;Node.prototype.replaceChild=function(newChild,oldChild){!newChild.connectedCallback||newChild.ownerDocument||setTimeout(()=>newChild.connectedCallback());!oldChild.disconnectedCallback||setTimeout(()=>oldChild.disconnectedCallback());return node_replaceChild.call(this,newChild,oldChild)};const _HTMLElement=HTMLElement;global.HTMLElement=class HTMLElement{constructor(tagName){const el=_document_createElement(tagName);Object.defineProperty(this,"__el__",{enumerable:false,configurable:true,writable:true,value:el});const prototype=Object.getPrototypeOf(this),descriptors=Object.getOwnPropertyDescriptors(prototype);for(let key in descriptors){key==="constructor"||(el[key]=prototype[key])}el.vNode()}};tlx.customElementRegistry={define(name,cls,options){const ctor=function(attributes={},el=_document_createElement(name)){Object.defineProperty(el,"constructor",{enumerable:false,configurable:true,writeable:true,value:cls});const instance=new cls(name),proto=Object.create(cls.prototype);Object.keys(instance).forEach(key=>el[key]=instance[key]);Object.defineProperty(el,"vnode",{enumerable:false,configurable:true,writable:true,value:instance.vnode});!instance.__setAttribute__||Object.defineProperty(el,"__setAttribute__",{enumerable:false,configurable:true,writable:true,value:instance.__setAttribute__});for(let key in attributes){el.setAttribute(key,attributes[key],true);if(cls.observedAttributes&&cls.observedAttributes.includes(key)&&el.attributeChangedCallback){el.attributeChangedCallback(key,null,attributes[key],null)}}return el};ctor.class=cls;tlx.define(name,ctor)},get(name){return tlx.get(name)},whenDefined(name){return tlx.whenDefined(name)}};Object.defineProperty(global,"customElements",{enumerable:true,configurable:true,writable:false,value:tlx.customElementRegistry})}};tlx.polyfill();if(typeof module!=="undefined")module.exports=tlx;if(typeof window!=="undefined")window.tlx=tlx}).call(typeof window!=="undefined"?window:this);